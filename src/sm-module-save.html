<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../sm-ui-core/sm-ui-core.html">
<link rel="import" href="../sm-ui-user-menu/sm-ui-user-menu.html">
<link rel="import" href="../sm-utility-auth/sm-utility-auth.html">

<dom-module id="sm-module-save">
  <template>
    <style include="sm-css-shady"></style>
    <style include="sm-css"></style>
    <style>
      :host {
        @apply(--typography);
        display: flex;
        align-items: flex-end;
        height: var(--tool-size);
        background: var(--blue);
        color: white;
        border-radius: var(--border-radius);
        box-shadow: var(--shadow);
        z-index: var(--on-top);
      }

      .save {
        padding: 0 1.5em;
        font-weight: 600;
        height: 100%;
      }

      .save[busy] {
        color: var(--med-white);
      }

      .menu {
        --user-menu-spacing: 55px;
        width: var(--tool-size);
        height: 100%;
        border-left: 1px solid var(--light-white);
      }
    </style>

      <button is="sm-ui-button" on-tap="save" busy="[[busy]]" class="save">save</button>

      <sm-ui-user-menu id="menu" class="menu" callout="top right" user="[[user.email]]">
        <sm-user-menu-item icon="simpla:exit" on-tap="logout">Logout</sm-user-menu-item>
      </sm-ui-user-menu>

    <sm-utility-auth id="auth" token="{{token}}"></sm-utility-auth>
  </template>
  <script src="./sm-module-save.js" inline></script>
</dom-module>
